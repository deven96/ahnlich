"use strict";(self.webpackChunkahnlich_web=self.webpackChunkahnlich_web||[]).push([[5840],{28453:(e,i,n)=>{n.d(i,{R:()=>d,x:()=>s});var r=n(96540);const l={},t=r.createContext(l);function d(e){const i=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),r.createElement(t.Provider,{value:i},e.children)}},99673:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"components/predicates/quick-reference","title":"Quick Reference","description":"Operators","source":"@site/docs/components/predicates/quick-reference.md","sourceDirName":"components/predicates","slug":"/components/predicates/quick-reference","permalink":"/docs/components/predicates/quick-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/deven96/ahnlich/tree/main/web/ahnlich-web/docs/components/predicates/quick-reference.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Quick Reference","sidebar_position":10},"sidebar":"docsSidebar","previous":{"title":"\ud83d\udd0d Predicates","permalink":"/docs/components/predicates/"},"next":{"title":"\ud83d\udd78\ufe0f Distributed Tracing","permalink":"/docs/components/distributed-tracing/"}}');var l=n(74848),t=n(28453);const d={title:"Quick Reference",sidebar_position:10},s="Predicates Quick Reference",c={},o=[{value:"Operators",id:"operators",level:2},{value:"Comparison Operators",id:"comparison-operators",level:3},{value:"Logical Operators",id:"logical-operators",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Single Field Filter",id:"single-field-filter",level:3},{value:"Multiple Field Filter (AND)",id:"multiple-field-filter-and",level:3},{value:"Multiple Field Filter (OR)",id:"multiple-field-filter-or",level:3},{value:"Using IN for Multiple Values",id:"using-in-for-multiple-values",level:3},{value:"Nested Conditions",id:"nested-conditions",level:3},{value:"Hybrid Query (Similarity + Filter)",id:"hybrid-query-similarity--filter",level:3},{value:"Index Management",id:"index-management",level:2},{value:"Create Index",id:"create-index",level:3},{value:"Drop Index",id:"drop-index",level:3},{value:"Drop Index with Error Handling",id:"drop-index-with-error-handling",level:3},{value:"Store Creation with Predicates",id:"store-creation-with-predicates",level:2},{value:"Ahnlich AI",id:"ahnlich-ai",level:3},{value:"Ahnlich DB",id:"ahnlich-db",level:3},{value:"Delete by Predicate",id:"delete-by-predicate",level:2},{value:"Simple Delete",id:"simple-delete",level:3},{value:"Complex Delete",id:"complex-delete",level:3},{value:"Tips",id:"tips",level:2},{value:"Syntax Cheat Sheet",id:"syntax-cheat-sheet",level:2}];function a(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"predicates-quick-reference",children:"Predicates Quick Reference"})}),"\n",(0,l.jsx)(i.h2,{id:"operators",children:"Operators"}),"\n",(0,l.jsx)(i.h3,{id:"comparison-operators",children:"Comparison Operators"}),"\n",(0,l.jsxs)(i.table,{children:[(0,l.jsx)(i.thead,{children:(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.th,{children:"Operator"}),(0,l.jsx)(i.th,{children:"Syntax"}),(0,l.jsx)(i.th,{children:"Example"})]})}),(0,l.jsxs)(i.tbody,{children:[(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Equals"}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:"key = value"})}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:'author = "Alice"'})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Not Equals"}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:"key != value"})}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:'status != "draft"'})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"In"}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:"key IN [values]"})}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:'category IN ["tech", "ai"]'})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Not In"}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:"key NOT IN [values]"})}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:'priority NOT IN ["low"]'})})]})]})]}),"\n",(0,l.jsx)(i.h3,{id:"logical-operators",children:"Logical Operators"}),"\n",(0,l.jsxs)(i.table,{children:[(0,l.jsx)(i.thead,{children:(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.th,{children:"Operator"}),(0,l.jsx)(i.th,{children:"Syntax"}),(0,l.jsx)(i.th,{children:"Example"})]})}),(0,l.jsxs)(i.tbody,{children:[(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"AND"}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:"(condition) AND (condition)"})}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:'(author = "Alice") AND (category = "tech")'})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"OR"}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:"(condition) OR (condition)"})}),(0,l.jsx)(i.td,{children:(0,l.jsx)(i.code,{children:'(status = "draft") OR (status = "review")'})})]})]})]}),"\n",(0,l.jsx)(i.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,l.jsx)(i.h3,{id:"single-field-filter",children:"Single Field Filter"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'GETPRED (category = "tech") IN articles\n'})}),"\n",(0,l.jsx)(i.h3,{id:"multiple-field-filter-and",children:"Multiple Field Filter (AND)"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'GETPRED (author = "Alice") AND (status = "published") IN articles\n'})}),"\n",(0,l.jsx)(i.h3,{id:"multiple-field-filter-or",children:"Multiple Field Filter (OR)"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'GETPRED (priority = "high") OR (priority = "urgent") IN tasks\n'})}),"\n",(0,l.jsx)(i.h3,{id:"using-in-for-multiple-values",children:"Using IN for Multiple Values"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'GETPRED category IN ["tech", "science", "ai"] IN articles\n'})}),"\n",(0,l.jsx)(i.h3,{id:"nested-conditions",children:"Nested Conditions"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'GETPRED \n  ((author = "Alice") OR (author = "Bob")) \n  AND \n  (category = "tech") \nIN articles\n'})}),"\n",(0,l.jsx)(i.h3,{id:"hybrid-query-similarity--filter",children:"Hybrid Query (Similarity + Filter)"}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"AI:"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'GETSIMN 10 WITH [machine learning] \n  USING cosinesimilarity \n  IN articles \n  WHERE (author = "Alice")\n'})}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.strong,{children:"DB:"})}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'GETSIMN 10 WITH [0.1, 0.2, 0.3, ...] \n  USING cosinesimilarity \n  IN articles \n  WHERE (category = "tech")\n'})}),"\n",(0,l.jsx)(i.h2,{id:"index-management",children:"Index Management"}),"\n",(0,l.jsx)(i.h3,{id:"create-index",children:"Create Index"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"CREATEPREDINDEX author, category, status IN my_store\n"})}),"\n",(0,l.jsx)(i.h3,{id:"drop-index",children:"Drop Index"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"DROPPREDINDEX category IN my_store\n"})}),"\n",(0,l.jsx)(i.h3,{id:"drop-index-with-error-handling",children:"Drop Index with Error Handling"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"DROPPREDINDEX category IN my_store ERRORIFDOESNOTEXIST\n"})}),"\n",(0,l.jsx)(i.h2,{id:"store-creation-with-predicates",children:"Store Creation with Predicates"}),"\n",(0,l.jsx)(i.h3,{id:"ahnlich-ai",children:"Ahnlich AI"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"CREATESTORE my_store \n  QUERYMODEL all-minilm-l6-v2 \n  INDEXMODEL all-minilm-l6-v2 \n  PREDICATES (author, category, status)\n"})}),"\n",(0,l.jsx)(i.h3,{id:"ahnlich-db",children:"Ahnlich DB"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:"CREATESTORE my_store \n  DIMENSION 384 \n  CREATEPREDINDEX (author, category, status)\n"})}),"\n",(0,l.jsx)(i.h2,{id:"delete-by-predicate",children:"Delete by Predicate"}),"\n",(0,l.jsx)(i.h3,{id:"simple-delete",children:"Simple Delete"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'DELPRED (status = "deleted") IN articles\n'})}),"\n",(0,l.jsx)(i.h3,{id:"complex-delete",children:"Complex Delete"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'DELPRED \n  (status = "draft") \n  AND \n  (last_modified < "2024-01-01") \nIN articles\n'})}),"\n",(0,l.jsx)(i.h2,{id:"tips",children:"Tips"}),"\n",(0,l.jsxs)(i.p,{children:["\u2705 ",(0,l.jsx)(i.strong,{children:"Do:"})]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Create indexes for frequently filtered fields"}),"\n",(0,l.jsxs)(i.li,{children:["Use ",(0,l.jsx)(i.code,{children:"IN"})," for multiple values instead of chaining ",(0,l.jsx)(i.code,{children:"OR"})]}),"\n",(0,l.jsx)(i.li,{children:"Keep metadata values small and simple"}),"\n",(0,l.jsx)(i.li,{children:"Declare predicates when creating stores"}),"\n"]}),"\n",(0,l.jsxs)(i.p,{children:["\u274c ",(0,l.jsx)(i.strong,{children:"Don't:"})]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Store large text in metadata (use for filtering only)"}),"\n",(0,l.jsx)(i.li,{children:"Create indexes on rarely used fields"}),"\n",(0,l.jsx)(i.li,{children:"Forget to index high-cardinality fields (many unique values)"}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"syntax-cheat-sheet",children:"Syntax Cheat Sheet"}),"\n",(0,l.jsx)(i.pre,{children:(0,l.jsx)(i.code,{children:'Predicate:\n  key = "value"\n  key != "value"\n  key IN ["val1", "val2"]\n  key NOT IN ["val1"]\n\nPredicateCondition:\n  (predicate)\n  (condition) AND (condition)\n  (condition) OR (condition)\n  ((cond1) AND (cond2)) OR (cond3)  # Nested\n\nCommands:\n  CREATEPREDINDEX field1, field2 IN store\n  DROPPREDINDEX field1 IN store\n  GETPRED (condition) IN store\n  GETSIMN n WITH [input] USING algorithm IN store WHERE (condition)\n  DELPRED (condition) IN store\n'})})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);