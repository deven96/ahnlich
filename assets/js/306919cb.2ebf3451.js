"use strict";(self.webpackChunkahnlich_web=self.webpackChunkahnlich_web||[]).push([[9360],{28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var i=s(96540);const l={},r=i.createContext(l);function d(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),i.createElement(r.Provider,{value:n},e.children)}},79093:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"reference/configuration","title":"Configuration Reference","description":"Complete reference for all configuration options in Ahnlich DB and AI.","source":"@site/docs/reference/configuration.md","sourceDirName":"reference","slug":"/reference/configuration","permalink":"/docs/reference/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/deven96/ahnlich/tree/main/web/ahnlich-web/docs/reference/configuration.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"title":"Configuration Reference","sidebar_position":20},"sidebar":"docsSidebar","previous":{"title":"Error Codes Reference","permalink":"/docs/reference/error-codes"},"next":{"title":"Common Issues","permalink":"/docs/troubleshooting/common-issues"}}');var l=s(74848),r=s(28453);const d={title:"Configuration Reference",sidebar_position:20},c="Configuration Reference",o={},t=[{value:"Environment Variables",id:"environment-variables",level:2},{value:"Configuration Files",id:"configuration-files",level:2},{value:"Database Server (ahnlich-db)",id:"database-server-ahnlich-db",level:2},{value:"Server Options",id:"server-options",level:3},{value:"<code>--host</code>",id:"--host",level:4},{value:"<code>--port</code>",id:"--port",level:4},{value:"Memory Management",id:"memory-management",level:3},{value:"<code>--allocator-size</code>",id:"--allocator-size",level:4},{value:"<code>--message-size</code>",id:"--message-size",level:4},{value:"Persistence",id:"persistence",level:3},{value:"<code>--enable-persistence</code>",id:"--enable-persistence",level:4},{value:"<code>--persist-location</code>",id:"--persist-location",level:4},{value:"<code>--persistence-interval</code>",id:"--persistence-interval",level:4},{value:"<code>--fail-on-startup-if-persist-load-fails</code>",id:"--fail-on-startup-if-persist-load-fails",level:4},{value:"Networking",id:"networking",level:3},{value:"<code>--maximum-clients</code>",id:"--maximum-clients",level:4},{value:"Performance",id:"performance",level:3},{value:"<code>--threadpool-size</code>",id:"--threadpool-size",level:4},{value:"Observability",id:"observability",level:3},{value:"<code>--enable-tracing</code>",id:"--enable-tracing",level:4},{value:"<code>--otel-endpoint</code>",id:"--otel-endpoint",level:4},{value:"<code>--log-level</code>",id:"--log-level",level:4},{value:"Complete DB Example",id:"complete-db-example",level:3},{value:"AI Proxy Server (ahnlich-ai)",id:"ai-proxy-server-ahnlich-ai",level:2},{value:"Server Options",id:"server-options-1",level:3},{value:"<code>--host</code>",id:"--host-1",level:4},{value:"<code>--port</code>",id:"--port-1",level:4},{value:"Database Connection",id:"database-connection",level:3},{value:"<code>--without-db</code>",id:"--without-db",level:4},{value:"<code>--db-host</code>",id:"--db-host",level:4},{value:"<code>--db-port</code>",id:"--db-port",level:4},{value:"<code>--db-https</code>",id:"--db-https",level:4},{value:"<code>--db-client-pool-size</code>",id:"--db-client-pool-size",level:4},{value:"AI Models",id:"ai-models",level:3},{value:"<code>--supported-models</code>",id:"--supported-models",level:4},{value:"<code>--ai-model-idle-time</code>",id:"--ai-model-idle-time",level:4},{value:"<code>--model-cache-location</code>",id:"--model-cache-location",level:4},{value:"Performance Options",id:"performance-options",level:3},{value:"<code>--session-profiling</code>",id:"--session-profiling",level:4},{value:"<code>--enable-streaming</code>",id:"--enable-streaming",level:4},{value:"Memory, Persistence, Networking, Observability",id:"memory-persistence-networking-observability",level:3},{value:"Complete AI Example",id:"complete-ai-example",level:3},{value:"CLI Client (ahnlich)",id:"cli-client-ahnlich",level:2},{value:"Options",id:"options",level:3},{value:"<code>--agent</code>",id:"--agent",level:4},{value:"<code>--host</code>",id:"--host-2",level:4},{value:"<code>--port</code>",id:"--port-2",level:4},{value:"CLI Examples",id:"cli-examples",level:3},{value:"Algorithm Configuration",id:"algorithm-configuration",level:2},{value:"Similarity Algorithms",id:"similarity-algorithms",level:3},{value:"Preprocessing Options",id:"preprocessing-options",level:3},{value:"Execution Providers",id:"execution-providers",level:3},{value:"Validation Rules",id:"validation-rules",level:2},{value:"Allocator Size",id:"allocator-size",level:3},{value:"Persistence",id:"persistence-1",level:3},{value:"Tracing",id:"tracing",level:3},{value:"Database Connection (AI)",id:"database-connection-ai",level:3},{value:"Configuration Best Practices",id:"configuration-best-practices",level:2},{value:"Production Deployment",id:"production-deployment",level:3},{value:"Development",id:"development",level:3},{value:"Docker Compose Configuration",id:"docker-compose-configuration",level:2},{value:"See Also",id:"see-also",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"configuration-reference",children:"Configuration Reference"})}),"\n",(0,l.jsx)(n.p,{children:"Complete reference for all configuration options in Ahnlich DB and AI."}),"\n",(0,l.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," Ahnlich currently does not use environment variables for configuration. All settings must be provided via CLI flags."]}),"\n",(0,l.jsx)(n.h2,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," Ahnlich does not currently support configuration files. All settings are provided as command-line arguments."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"database-server-ahnlich-db",children:"Database Server (ahnlich-db)"}),"\n",(0,l.jsx)(n.p,{children:"Start the database server with:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ahnlich-db run [OPTIONS]\n"})}),"\n",(0,l.jsx)(n.h3,{id:"server-options",children:"Server Options"}),"\n",(0,l.jsx)(n.h4,{id:"--host",children:(0,l.jsx)(n.code,{children:"--host"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," String"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:'"127.0.0.1"'})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Server host address to bind to"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--host 127.0.0.1  # Localhost only\n--host 0.0.0.0    # All interfaces\n--host 192.168.1.10  # Specific IP\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--port",children:(0,l.jsx)(n.code,{children:"--port"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," u16 (unsigned 16-bit integer)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"1369"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Database server port"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--port 1369  # Default\n--port 8080  # Custom port\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"memory-management",children:"Memory Management"}),"\n",(0,l.jsx)(n.h4,{id:"--allocator-size",children:(0,l.jsx)(n.code,{children:"--allocator-size"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," usize (bytes)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"10,737,418,240"})," (10 GiB)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Minimum:"})," ",(0,l.jsx)(n.code,{children:"10,485,760"})," (10 MiB)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Global allocator size in bytes - maximum memory for vector storage"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Validation:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Must be \u2265 10 MiB"}),"\n",(0,l.jsx)(n.li,{children:"Should be >2x persistence file size if persistence is enabled"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--allocator-size 10737418240      # 10 GiB (default)\n--allocator-size 21474836480      # 20 GiB\n--allocator-size 107374182400     # 100 GiB\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Calculation Helper:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"1 GiB = 1,073,741,824 bytes\n1 MiB = 1,048,576 bytes\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--message-size",children:(0,l.jsx)(n.code,{children:"--message-size"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," usize (bytes)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"10,485,760"})," (10 MiB)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Maximum gRPC message size"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--message-size 10485760     # 10 MiB (default)\n--message-size 104857600    # 100 MiB\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"persistence",children:"Persistence"}),"\n",(0,l.jsx)(n.h4,{id:"--enable-persistence",children:(0,l.jsx)(n.code,{children:"--enable-persistence"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," bool (flag)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Enable data persistence to disk"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--enable-persistence\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--persist-location",children:(0,l.jsx)(n.code,{children:"--persist-location"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," PathBuf (file path)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," None"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Required:"})," Yes, if ",(0,l.jsx)(n.code,{children:"--enable-persistence"})," is set"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Path to persistence file"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--persist-location /var/lib/ahnlich/db.dat\n--persist-location ~/ahnlich-data/db.dat\n--persist-location ./data/persistence.dat\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--persistence-interval",children:(0,l.jsx)(n.code,{children:"--persistence-interval"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," u64 (milliseconds)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"300000"})," (5 minutes)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," How often to save data to disk (in milliseconds)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--persistence-interval 300000   # 5 minutes (default)\n--persistence-interval 60000    # 1 minute\n--persistence-interval 600000   # 10 minutes\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Calculation Helper:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"1 second  = 1,000 ms\n1 minute  = 60,000 ms\n5 minutes = 300,000 ms\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--fail-on-startup-if-persist-load-fails",children:(0,l.jsx)(n.code,{children:"--fail-on-startup-if-persist-load-fails"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," bool (flag)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Whether to crash on startup if persistence load fails"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--fail-on-startup-if-persist-load-fails  # Fail loudly\n# Omit flag to continue without persistence on load failure\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"networking",children:"Networking"}),"\n",(0,l.jsx)(n.h4,{id:"--maximum-clients",children:(0,l.jsx)(n.code,{children:"--maximum-clients"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," usize"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"1000"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Maximum concurrent client connections"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--maximum-clients 1000   # Default\n--maximum-clients 5000   # Higher limit\n--maximum-clients 100    # Lower limit\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,l.jsx)(n.h4,{id:"--threadpool-size",children:(0,l.jsx)(n.code,{children:"--threadpool-size"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," usize"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"16"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," CPU thread pool size for request handling"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Recommendation:"})," Set to number of CPU cores or slightly higher"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--threadpool-size 16  # Default\n--threadpool-size 32  # For 32-core system\n--threadpool-size 8   # For 8-core system\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"observability",children:"Observability"}),"\n",(0,l.jsx)(n.h4,{id:"--enable-tracing",children:(0,l.jsx)(n.code,{children:"--enable-tracing"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," bool (flag)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Enable OpenTelemetry distributed tracing"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--enable-tracing\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--otel-endpoint",children:(0,l.jsx)(n.code,{children:"--otel-endpoint"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," String (URL)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," None"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Required:"})," Yes, if ",(0,l.jsx)(n.code,{children:"--enable-tracing"})," is set"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," OpenTelemetry collector endpoint (gRPC)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--otel-endpoint http://localhost:4317\n--otel-endpoint http://jaeger:4317\n--otel-endpoint http://192.168.1.10:4317\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--log-level",children:(0,l.jsx)(n.code,{children:"--log-level"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," String (log filter)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:'"info,hf_hub=warn"'})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Log level configuration using env_logger syntax"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Valid Levels:"})," ",(0,l.jsx)(n.code,{children:"error"}),", ",(0,l.jsx)(n.code,{children:"warn"}),", ",(0,l.jsx)(n.code,{children:"info"}),", ",(0,l.jsx)(n.code,{children:"debug"}),", ",(0,l.jsx)(n.code,{children:"trace"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'--log-level info                           # All modules: info\n--log-level debug                          # All modules: debug\n--log-level "info,ahnlich_db=debug"       # DB debug, others info\n--log-level "warn,ahnlich_db=trace"       # DB trace, others warn\n--log-level "error,hf_hub=off"            # Silence HuggingFace logs\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"complete-db-example",children:"Complete DB Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'ahnlich-db run \\\n  --host 0.0.0.0 \\\n  --port 1369 \\\n  --allocator-size 21474836480 \\\n  --enable-persistence \\\n  --persist-location /var/lib/ahnlich/db.dat \\\n  --persistence-interval 300000 \\\n  --maximum-clients 2000 \\\n  --threadpool-size 32 \\\n  --enable-tracing \\\n  --otel-endpoint http://jaeger:4317 \\\n  --log-level "info,ahnlich_db=debug"\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"ai-proxy-server-ahnlich-ai",children:"AI Proxy Server (ahnlich-ai)"}),"\n",(0,l.jsx)(n.p,{children:"Start the AI proxy with:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ahnlich-ai run [OPTIONS]\n"})}),"\n",(0,l.jsx)(n.h3,{id:"server-options-1",children:"Server Options"}),"\n",(0,l.jsx)(n.h4,{id:"--host-1",children:(0,l.jsx)(n.code,{children:"--host"})}),"\n",(0,l.jsxs)(n.p,{children:["Same as DB server (default: ",(0,l.jsx)(n.code,{children:'"127.0.0.1"'}),")"]}),"\n",(0,l.jsx)(n.h4,{id:"--port-1",children:(0,l.jsx)(n.code,{children:"--port"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," u16"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"1370"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," AI proxy server port"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--port 1370  # Default\n--port 8081  # Custom port\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"database-connection",children:"Database Connection"}),"\n",(0,l.jsx)(n.h4,{id:"--without-db",children:(0,l.jsx)(n.code,{children:"--without-db"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," bool (flag)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Start AI proxy without connecting to database (standalone mode)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Conflicts With:"})," ",(0,l.jsx)(n.code,{children:"--db-host"}),", ",(0,l.jsx)(n.code,{children:"--db-port"}),", ",(0,l.jsx)(n.code,{children:"--db-https"}),", ",(0,l.jsx)(n.code,{children:"--db-client-pool-size"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ahnlich-ai run --without-db\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--db-host",children:(0,l.jsx)(n.code,{children:"--db-host"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," String"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:'"127.0.0.1"'})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Ahnlich Database host to connect to"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Conflicts With:"})," ",(0,l.jsx)(n.code,{children:"--without-db"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--db-host 127.0.0.1\n--db-host ahnlich-db  # Docker service name\n--db-host 192.168.1.10\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--db-port",children:(0,l.jsx)(n.code,{children:"--db-port"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," u16"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"1369"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Ahnlich Database port"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Conflicts With:"})," ",(0,l.jsx)(n.code,{children:"--without-db"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--db-port 1369  # Default\n--db-port 1400  # Custom DB port\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--db-https",children:(0,l.jsx)(n.code,{children:"--db-https"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," bool (flag)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Use HTTPS for database connection"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Conflicts With:"})," ",(0,l.jsx)(n.code,{children:"--without-db"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--db-https  # Use https:// instead of http://\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--db-client-pool-size",children:(0,l.jsx)(n.code,{children:"--db-client-pool-size"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," usize"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"10"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Number of database client connections in the pool"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Conflicts With:"})," ",(0,l.jsx)(n.code,{children:"--without-db"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Recommendation:"})," Increase for high-concurrency scenarios"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--db-client-pool-size 10  # Default\n--db-client-pool-size 50  # Higher concurrency\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"ai-models",children:"AI Models"}),"\n",(0,l.jsx)(n.h4,{id:"--supported-models",children:(0,l.jsx)(n.code,{children:"--supported-models"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," Comma-separated list"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," All models (see table below)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Which AI models to load and support"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Load only specific models\n--supported-models all-minilm-l6-v2,resnet-50\n\n# Load text models only\n--supported-models all-minilm-l6-v2,all-minilm-l12-v2,bge-base-en-v1.5\n\n# Load all models (default)\n# Omit flag or list all\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Supported Models:"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Model Name"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Max Tokens"}),(0,l.jsx)(n.th,{children:"Image Size"}),(0,l.jsx)(n.th,{children:"Embedding Dim"}),(0,l.jsx)(n.th,{children:"Use Case"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"all-minilm-l6-v2"})}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"256"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"384"}),(0,l.jsx)(n.td,{children:"Fast sentence embeddings"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"all-minilm-l12-v2"})}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"256"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"384"}),(0,l.jsx)(n.td,{children:"Better sentence embeddings"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bge-base-en-v1.5"})}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"512"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"768"}),(0,l.jsx)(n.td,{children:"General text embedding"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bge-large-en-v1.5"})}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"512"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"1024"}),(0,l.jsx)(n.td,{children:"High-quality text embedding"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"resnet-50"})}),(0,l.jsx)(n.td,{children:"Image"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"224x224"}),(0,l.jsx)(n.td,{children:"2048"}),(0,l.jsx)(n.td,{children:"Image classification features"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"clip-vit-b32-image"})}),(0,l.jsx)(n.td,{children:"Image"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"224x224"}),(0,l.jsx)(n.td,{children:"512"}),(0,l.jsx)(n.td,{children:"Visual embeddings"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"clip-vit-b32-text"})}),(0,l.jsx)(n.td,{children:"Text"}),(0,l.jsx)(n.td,{children:"77"}),(0,l.jsx)(n.td,{children:"N/A"}),(0,l.jsx)(n.td,{children:"512"}),(0,l.jsx)(n.td,{children:"Text for image-text matching"})]})]})]}),"\n",(0,l.jsx)(n.h4,{id:"--ai-model-idle-time",children:(0,l.jsx)(n.code,{children:"--ai-model-idle-time"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," u64 (seconds)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"300"})," (5 minutes)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," How long to keep models in memory before unloading (when idle)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--ai-model-idle-time 300   # 5 minutes (default)\n--ai-model-idle-time 600   # 10 minutes\n--ai-model-idle-time 60    # 1 minute\n--ai-model-idle-time 0     # Never unload\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--model-cache-location",children:(0,l.jsx)(n.code,{children:"--model-cache-location"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," PathBuf (directory path)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"~/.ahnlich/models"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Directory where model artifacts are cached"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--model-cache-location ~/.ahnlich/models      # Default\n--model-cache-location /var/lib/ahnlich/models\n--model-cache-location ./models\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," Models are downloaded from HuggingFace Hub on first use"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"performance-options",children:"Performance Options"}),"\n",(0,l.jsx)(n.h4,{id:"--session-profiling",children:(0,l.jsx)(n.code,{children:"--session-profiling"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," bool (flag)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Enable ONNX Runtime session profiling"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use:"})," For performance debugging and optimization"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--session-profiling\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--enable-streaming",children:(0,l.jsx)(n.code,{children:"--enable-streaming"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," bool (flag)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:"false"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Decode images in chunks (reduces memory by 10x but 40% slower)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use:"})," When processing many large images with limited memory"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--enable-streaming\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"memory-persistence-networking-observability",children:"Memory, Persistence, Networking, Observability"}),"\n",(0,l.jsx)(n.p,{children:"AI proxy supports all the same options as DB server:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--allocator-size"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--message-size"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--enable-persistence"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--persist-location"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--persistence-interval"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--fail-on-startup-if-persist-load-fails"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--maximum-clients"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--threadpool-size"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--enable-tracing"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--otel-endpoint"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"--log-level"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"See DB Server section above for details."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"complete-ai-example",children:"Complete AI Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'ahnlich-ai run \\\n  --host 0.0.0.0 \\\n  --port 1370 \\\n  --db-host ahnlich-db \\\n  --db-port 1369 \\\n  --db-client-pool-size 20 \\\n  --supported-models all-minilm-l6-v2,bge-base-en-v1.5,resnet-50 \\\n  --ai-model-idle-time 600 \\\n  --model-cache-location /var/lib/ahnlich/models \\\n  --enable-streaming \\\n  --allocator-size 21474836480 \\\n  --enable-persistence \\\n  --persist-location /var/lib/ahnlich/ai.dat \\\n  --maximum-clients 2000 \\\n  --enable-tracing \\\n  --otel-endpoint http://jaeger:4317 \\\n  --log-level "info,ahnlich_ai=debug,hf_hub=warn"\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"cli-client-ahnlich",children:"CLI Client (ahnlich)"}),"\n",(0,l.jsx)(n.p,{children:"Interactive CLI tool for querying Ahnlich:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ahnlich [OPTIONS]\n"})}),"\n",(0,l.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,l.jsx)(n.h4,{id:"--agent",children:(0,l.jsx)(n.code,{children:"--agent"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," Enum (DB or AI)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Required:"})," Yes"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Which server type to connect to"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Valid Values:"})," ",(0,l.jsx)(n.code,{children:"DB"}),", ",(0,l.jsx)(n.code,{children:"AI"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ahnlich --agent DB\nahnlich --agent AI\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--host-2",children:(0,l.jsx)(n.code,{children:"--host"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," String"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," ",(0,l.jsx)(n.code,{children:'"127.0.0.1"'})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Server host to connect to"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"--host 127.0.0.1\n--host localhost\n--host ahnlich-db\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"--port-2",children:(0,l.jsx)(n.code,{children:"--port"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Type:"})," u16"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," Auto-selected based on agent (DB=1369, AI=1370)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Description:"})," Server port to connect to"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Examples:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Defaults\nahnlich --agent DB              # Connects to :1369\nahnlich --agent AI              # Connects to :1370\n\n# Custom ports\nahnlich --agent DB --port 8080\nahnlich --agent AI --port 8081\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"cli-examples",children:"CLI Examples"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Connect to DB locally\nahnlich --agent DB --host 127.0.0.1 --port 1369\n\n# Connect to AI proxy\nahnlich --agent AI --host 127.0.0.1 --port 1370\n\n# Connect to remote server\nahnlich --agent DB --host 192.168.1.10 --port 1369\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"algorithm-configuration",children:"Algorithm Configuration"}),"\n",(0,l.jsx)(n.h3,{id:"similarity-algorithms",children:"Similarity Algorithms"}),"\n",(0,l.jsxs)(n.p,{children:["Used in ",(0,l.jsx)(n.code,{children:"GetSimN"})," and similar operations:"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Algorithm"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Use Case"}),(0,l.jsx)(n.th,{children:"Characteristics"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"EuclideanDistance"})}),(0,l.jsx)(n.td,{children:"Linear"}),(0,l.jsx)(n.td,{children:"Absolute distance"}),(0,l.jsx)(n.td,{children:"Best for comparing magnitudes"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DotProductSimilarity"})}),(0,l.jsx)(n.td,{children:"Linear"}),(0,l.jsx)(n.td,{children:"Fast comparison"}),(0,l.jsx)(n.td,{children:"Best when vectors are normalized"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CosineSimilarity"})}),(0,l.jsx)(n.td,{children:"Linear"}),(0,l.jsx)(n.td,{children:"Direction-based"}),(0,l.jsx)(n.td,{children:"Best for normalized vectors, ignores magnitude"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"KDTree"})}),(0,l.jsx)(n.td,{children:"Non-linear"}),(0,l.jsx)(n.td,{children:"Fast spatial search"}),(0,l.jsx)(n.td,{children:"Best for high-dimensional nearest neighbor"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"# Linear algorithms - available by default\nGETSIMN 10 WITH [1.0, 2.0, 3.0] USING cosinesimilarity IN my_store\n\n# Non-linear - must be created\nCREATESTORE my_store DIMENSION 128 NONLINEARALGORITHMINDEX (KDTree)\nGETSIMN 10 WITH [1.0, 2.0, 3.0] USING kdtree IN my_store\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"preprocessing-options",children:"Preprocessing Options"}),"\n",(0,l.jsx)(n.p,{children:"For AI queries:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Option"}),(0,l.jsx)(n.th,{children:"Description"}),(0,l.jsx)(n.th,{children:"When to Use"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"NoPreprocessing"})}),(0,l.jsx)(n.td,{children:"Skip preprocessing"}),(0,l.jsx)(n.td,{children:"Input already preprocessed"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ModelPreprocessing"})}),(0,l.jsx)(n.td,{children:"Apply model's preprocessing"}),(0,l.jsx)(n.td,{children:"Raw inputs (recommended)"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'Set(\n    store="my_store",\n    inputs=[...],\n    preprocess_action=PreprocessAction.ModelPreprocessing,\n)\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"execution-providers",children:"Execution Providers"}),"\n",(0,l.jsx)(n.p,{children:"Hardware acceleration for AI models:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Provider"}),(0,l.jsx)(n.th,{children:"Description"}),(0,l.jsx)(n.th,{children:"Requirements"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TensorRT"})}),(0,l.jsx)(n.td,{children:"NVIDIA TensorRT"}),(0,l.jsx)(n.td,{children:"CUDA \u226512, TensorRT"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CUDA"})}),(0,l.jsx)(n.td,{children:"NVIDIA CUDA"}),(0,l.jsx)(n.td,{children:"CUDA \u226512, libcudnn9"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DirectML"})}),(0,l.jsx)(n.td,{children:"DirectX ML"}),(0,l.jsx)(n.td,{children:"Windows, DirectX 12"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CoreML"})}),(0,l.jsx)(n.td,{children:"Apple CoreML"}),(0,l.jsx)(n.td,{children:"macOS, Apple Silicon (not recommended for NLP)"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'GetSimN(\n    store="my_store",\n    search_input=...,\n    closest_n=10,\n    algorithm=Algorithm.CosineSimilarity,\n    preprocess_action=PreprocessAction.ModelPreprocessing,\n    execution_provider=ExecutionProvider.CUDA,  # GPU acceleration\n)\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,l.jsx)(n.h3,{id:"allocator-size",children:"Allocator Size"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Minimum: 10 MiB (10,485,760 bytes)"}),"\n",(0,l.jsx)(n.li,{children:"With persistence: Must be >2x persistence file size"}),"\n",(0,l.jsx)(n.li,{children:"Recommended: Based on expected data volume"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"persistence-1",children:"Persistence"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--persist-location"})," required if ",(0,l.jsx)(n.code,{children:"--enable-persistence"})," is set"]}),"\n",(0,l.jsx)(n.li,{children:"Parent directory must exist and be writable"}),"\n",(0,l.jsx)(n.li,{children:"File should be on fast storage (SSD recommended)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"tracing",children:"Tracing"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--otel-endpoint"})," required if ",(0,l.jsx)(n.code,{children:"--enable-tracing"})," is set"]}),"\n",(0,l.jsx)(n.li,{children:"Endpoint must be accessible (network connectivity)"}),"\n",(0,l.jsx)(n.li,{children:"Use gRPC endpoint (not HTTP)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"database-connection-ai",children:"Database Connection (AI)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Cannot use ",(0,l.jsx)(n.code,{children:"--without-db"})," with ",(0,l.jsx)(n.code,{children:"--db-*"})," flags"]}),"\n",(0,l.jsxs)(n.li,{children:["DB must be running before AI proxy (unless ",(0,l.jsx)(n.code,{children:"--without-db"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"DB port must be reachable from AI proxy"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"configuration-best-practices",children:"Configuration Best Practices"}),"\n",(0,l.jsx)(n.h3,{id:"production-deployment",children:"Production Deployment"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Database\nahnlich-db run \\\n  --host 0.0.0.0 \\\n  --port 1369 \\\n  --allocator-size 53687091200 \\        # 50 GiB for large datasets\n  --enable-persistence \\\n  --persist-location /mnt/data/db.dat \\\n  --persistence-interval 300000 \\\n  --maximum-clients 5000 \\\n  --threadpool-size 64 \\                # Match CPU cores\n  --enable-tracing \\\n  --otel-endpoint http://jaeger:4317 \\\n  --log-level "info,ahnlich_db=info"\n\n# AI Proxy\nahnlich-ai run \\\n  --host 0.0.0.0 \\\n  --port 1370 \\\n  --db-host ahnlich-db \\\n  --db-port 1369 \\\n  --db-client-pool-size 50 \\\n  --supported-models all-minilm-l6-v2,bge-base-en-v1.5 \\  # Only needed models\n  --ai-model-idle-time 600 \\\n  --model-cache-location /mnt/models \\\n  --enable-streaming \\                  # For image workloads\n  --allocator-size 53687091200 \\\n  --enable-persistence \\\n  --persist-location /mnt/data/ai.dat \\\n  --maximum-clients 5000 \\\n  --enable-tracing \\\n  --otel-endpoint http://jaeger:4317\n'})}),"\n",(0,l.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Simple local setup\nahnlich-db run --log-level debug\n\nahnlich-ai run \\\n  --db-host 127.0.0.1 \\\n  --supported-models all-minilm-l6-v2 \\  # Just one model for testing\n  --log-level debug\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"docker-compose-configuration",children:"Docker Compose Configuration"}),"\n",(0,l.jsxs)(n.p,{children:["See ",(0,l.jsx)(n.a,{href:"/ahnlich-in-production/deployment",children:"Production Deployment"})," for complete Docker Compose examples."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/reference/error-codes",children:"Error Codes Reference"})," - Understanding error messages"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/troubleshooting/common-issues",children:"Troubleshooting"})," - Common configuration issues"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/ahnlich-in-production/deployment",children:"Production Deployment"})," - Docker and cloud deployment"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}}}]);