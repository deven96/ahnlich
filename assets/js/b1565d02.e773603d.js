"use strict";(self.webpackChunkahnlich_web=self.webpackChunkahnlich_web||[]).push([[5232],{17471:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"client-libraries/python/request-ai/create-predicate-index","title":"Create Predicate Index","description":"Predicate indices allow the AI store to efficiently filter results based on metadata fields. Use this operation to define which metadata keys should be indexed for faster query operations like GetPred.","source":"@site/docs/client-libraries/python/request-ai/create-predicate-index.md","sourceDirName":"client-libraries/python/request-ai","slug":"/client-libraries/python/request-ai/create-predicate-index","permalink":"/docs/client-libraries/python/request-ai/create-predicate-index","draft":false,"unlisted":false,"editUrl":"https://github.com/deven96/ahnlich/tree/main/web/ahnlich-web/docs/client-libraries/python/request-ai/create-predicate-index.md","tags":[],"version":"current","frontMatter":{"title":"Create Predicate Index"},"sidebar":"docsSidebar","previous":{"title":"Get by Predicate","permalink":"/docs/client-libraries/python/request-ai/get-by-predicate"},"next":{"title":"Drop Predicate Index","permalink":"/docs/client-libraries/python/request-ai/drop-predicate-index"}}');var r=n(74848),s=n(28453);const c={title:"Create Predicate Index"},a="Create Predicate Index",d={},o=[];function l(e){const t={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"create-predicate-index",children:"Create Predicate Index"})}),"\n",(0,r.jsxs)(t.p,{children:["Predicate indices allow the AI store to efficiently filter results based on metadata fields. Use this operation to define which metadata keys should be indexed for faster query operations like ",(0,r.jsx)(t.code,{children:"GetPred"}),"."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"store"})," \u2013 Name of the AI store to create predicate indices on."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"predicates"})," \u2013 List of metadata fields to index."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"The response confirms the creation of indices."}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Click to expand source code"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-py",children:'import asyncio\nfrom grpclib.client import Channel\nfrom ahnlich_client_py.grpc.services.ai_service import AiServiceStub\nfrom ahnlich_client_py.grpc.ai import query as ai_query\n\n\nasync def create_predicate_index():\n  async with Channel(host="127.0.0.1", port=1370) as channel:\n      client = AiServiceStub(channel)\n      response = await client.create_pred_index(\n          ai_query.CreatePredIndex(\n              store="test store",\n              predicates=["job", "rank"]\n          )\n      )\n      print(response) # CreateIndex(created_indexes=1)\n\n\nif __name__ == "__main__":\n  asyncio.run(create_predicate_index())\n'})})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Use this function after creating a store or inserting entries to optimize predicate-based queries."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Only indexed predicates can be efficiently queried in ",(0,r.jsx)(t.code,{children:"GetPred"}),"."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>a});var i=n(96540);const r={},s=i.createContext(r);function c(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);