"use strict";(self.webpackChunkahnlich_web=self.webpackChunkahnlich_web||[]).push([[9851],{28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var s=r(96540);const i={},d=s.createContext(i);function o(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(d.Provider,{value:n},e.children)}},71898:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>o,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"reference/error-codes","title":"Error Codes Reference","description":"This page documents all error codes, messages, and their solutions in Ahnlich DB and AI.","source":"@site/docs/reference/error-codes.md","sourceDirName":"reference","slug":"/reference/error-codes","permalink":"/docs/reference/error-codes","draft":false,"unlisted":false,"editUrl":"https://github.com/deven96/ahnlich/tree/main/web/ahnlich-web/docs/reference/error-codes.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Error Codes Reference","sidebar_position":10},"sidebar":"docsSidebar","previous":{"title":"\u26a1Ahnlich in production","permalink":"/docs/ahnlich-in-production/"},"next":{"title":"Configuration Reference","permalink":"/docs/reference/configuration"}}');var i=r(74848),d=r(28453);const o={title:"Error Codes Reference",sidebar_position:10},l="Error Codes Reference",c={},t=[{value:"gRPC Status Codes",id:"grpc-status-codes",level:2},{value:"Database (ahnlich-db) Errors",id:"database-ahnlich-db-errors",level:2},{value:"Store Errors",id:"store-errors",level:3},{value:"StoreNotFound",id:"storenotfound",level:4},{value:"StoreAlreadyExists",id:"storealreadyexists",level:4},{value:"StoreDimensionMismatch",id:"storedimensionmismatch",level:4},{value:"Index Errors",id:"index-errors",level:3},{value:"PredicateNotFound",id:"predicatenotfound",level:4},{value:"NonLinearIndexNotFound",id:"nonlinearindexnotfound",level:4},{value:"Resource Errors",id:"resource-errors",level:3},{value:"Allocation",id:"allocation",level:4},{value:"AI Proxy (ahnlich-ai) Errors",id:"ai-proxy-ahnlich-ai-errors",level:2},{value:"Store Errors",id:"store-errors-1",level:3},{value:"StoreNotFound / StoreAlreadyExists",id:"storenotfound--storealreadyexists",level:4},{value:"StoreTypeMismatchError",id:"storetypemismatcherror",level:4},{value:"Input Errors",id:"input-errors",level:3},{value:"InputNotSpecified",id:"inputnotspecified",level:4},{value:"TokenExceededError",id:"tokenexceedederror",level:4},{value:"ImageDimensionsMismatchError",id:"imagedimensionsmismatcherror",level:4},{value:"ReservedError",id:"reservederror",level:4},{value:"Model Errors",id:"model-errors",level:3},{value:"AIModelNotInitialized",id:"aimodelnotinitialized",level:4},{value:"AIModelNotSupported",id:"aimodelnotsupported",level:4},{value:"DimensionsMismatchError",id:"dimensionsmismatcherror",level:4},{value:"ModelInitializationError",id:"modelinitializationerror",level:4},{value:"Database Connection Errors",id:"database-connection-errors",level:3},{value:"DatabaseClientError",id:"databaseclienterror",level:4},{value:"Operation Errors",id:"operation-errors",level:3},{value:"DelKeyError",id:"delkeyerror",level:4},{value:"Image Processing Errors",id:"image-processing-errors",level:3},{value:"ImageBytesDecodeError",id:"imagebytesdecodeerror",level:4},{value:"ImageNonzeroDimensionError",id:"imagenonzerodimensionerror",level:4},{value:"Client Errors",id:"client-errors",level:2},{value:"InvalidURI",id:"invaliduri",level:3},{value:"Tonic (Transport Error)",id:"tonic-transport-error",level:3},{value:"DSL/CLI Errors",id:"dslcli-errors",level:2},{value:"UnsupportedAlgorithm",id:"unsupportedalgorithm",level:3},{value:"UnsupportedAIModel",id:"unsupportedaimodel",level:3},{value:"UnsupportedPreprocessingMode",id:"unsupportedpreprocessingmode",level:3},{value:"Common Error Combinations",id:"common-error-combinations",level:2},{value:"&quot;Connection Refused&quot; + &quot;StoreNotFound&quot;",id:"connection-refused--storenotfound",level:3},{value:"&quot;DimensionMismatch&quot; + AI Store",id:"dimensionmismatch--ai-store",level:3},{value:"&quot;TokenExceeded&quot; + Long Text",id:"tokenexceeded--long-text",level:3},{value:"Getting Help",id:"getting-help",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"error-codes-reference",children:"Error Codes Reference"})}),"\n",(0,i.jsx)(n.p,{children:"This page documents all error codes, messages, and their solutions in Ahnlich DB and AI."}),"\n",(0,i.jsx)(n.h2,{id:"grpc-status-codes",children:"gRPC Status Codes"}),"\n",(0,i.jsx)(n.p,{children:"Ahnlich uses standard gRPC status codes for error responses:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"gRPC Code"}),(0,i.jsx)(n.th,{children:"HTTP Code"}),(0,i.jsx)(n.th,{children:"When Used"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NotFound"})}),(0,i.jsx)(n.td,{children:"404"}),(0,i.jsx)(n.td,{children:"Store, predicate, or index not found"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"AlreadyExists"})}),(0,i.jsx)(n.td,{children:"409"}),(0,i.jsx)(n.td,{children:"Store already exists"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"InvalidArgument"})}),(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Invalid input, dimension mismatch, type errors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ResourceExhausted"})}),(0,i.jsx)(n.td,{children:"429"}),(0,i.jsx)(n.td,{children:"Memory allocation failures"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FailedPrecondition"})}),(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Missing dependencies or prerequisites"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"OutOfRange"})}),(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Token limits, invalid ranges"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Internal"})}),(0,i.jsx)(n.td,{children:"500"}),(0,i.jsx)(n.td,{children:"Model errors, runtime failures"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"database-ahnlich-db-errors",children:"Database (ahnlich-db) Errors"}),"\n",(0,i.jsx)(n.h3,{id:"store-errors",children:"Store Errors"}),"\n",(0,i.jsx)(n.h4,{id:"storenotfound",children:"StoreNotFound"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'Store "store_name" not found'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"NotFound"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Attempting to access a store that doesn't exist."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create the store first using ",(0,i.jsx)(n.code,{children:"CREATESTORE"})]}),"\n",(0,i.jsx)(n.li,{children:"Verify store name spelling"}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"LISTSTORES"})," to check available stores"]}),"\n",(0,i.jsx)(n.li,{children:"Check if persistence file loaded correctly on restart"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"LISTSTORES\nCREATESTORE mystore DIMENSION 128\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"storealreadyexists",children:"StoreAlreadyExists"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'Store "store_name" already exists'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"AlreadyExists"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Creating a store when one with that name already exists and ",(0,i.jsx)(n.code,{children:"error_if_exists=true"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use a different store name"}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"error_if_exists=false"})," to silently skip creation"]}),"\n",(0,i.jsx)(n.li,{children:"Drop the existing store first if you want to recreate it"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'CreateStore {\n    store: "my_store".to_string(),\n    dimension: 128,\n    create_predicates: vec![],\n    non_linear_indices: vec![],\n    error_if_exists: false,  // Won\'t error if exists\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"storedimensionmismatch",children:"StoreDimensionMismatch"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Store dimension is [128], input dimension of [256] was specified"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"InvalidArgument"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Vector dimensions don't match the store's configured dimension."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure all vectors match store dimension"}),"\n",(0,i.jsx)(n.li,{children:"Check embedding model output dimensions"}),"\n",(0,i.jsx)(n.li,{children:"For AI stores, verify query and index models have same embedding size"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common Model Dimensions:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"all-minilm-l6-v2"}),": 384"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"all-minilm-l12-v2"}),": 384"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bge-base-en-v1.5"}),": 768"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bge-large-en-v1.5"}),": 1024"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"resnet-50"}),": 2048"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"clip-vit-b32-*"}),": 512"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"index-errors",children:"Index Errors"}),"\n",(0,i.jsx)(n.h4,{id:"predicatenotfound",children:"PredicateNotFound"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'Predicate "field_name" not found in store, attempt CREATEPREDINDEX with predicate'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"NotFound"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Querying using a predicate that hasn't been indexed."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATEPREDINDEX my_store PREDICATES (field_name)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or include predicates when creating store:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATESTORE my_store DIMENSION 128 PREDICATES (author, category)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"nonlinearindexnotfound",children:"NonLinearIndexNotFound"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Non linear algorithm KDTree not found in store, create store with support"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"NotFound"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Attempting to use a non-linear algorithm (KDTree) not created with the store."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATE_NON_LINEAR_ALGORITHM_INDEX my_store NONLINEARALGORITHMINDEX (KDTree)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or include when creating store:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATESTORE my_store DIMENSION 128 NONLINEARALGORITHMINDEX (KDTree)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"resource-errors",children:"Resource Errors"}),"\n",(0,i.jsx)(n.h4,{id:"allocation",children:"Allocation"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"allocation error: CapacityOverflow"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"ResourceExhausted"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Memory allocation failed - hit the ",(0,i.jsx)(n.code,{children:"--allocator-size"})," limit."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Increase ",(0,i.jsx)(n.code,{children:"--allocator-size"})," when starting server"]}),"\n",(0,i.jsx)(n.li,{children:"Reduce batch sizes"}),"\n",(0,i.jsx)(n.li,{children:"Monitor memory usage"}),"\n",(0,i.jsxs)(n.li,{children:["For images, use ",(0,i.jsx)(n.code,{children:"--enable-streaming"})," in AI proxy"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ahnlich-db run --allocator-size 21474836480  # 20 GiB\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"ai-proxy-ahnlich-ai-errors",children:"AI Proxy (ahnlich-ai) Errors"}),"\n",(0,i.jsx)(n.h3,{id:"store-errors-1",children:"Store Errors"}),"\n",(0,i.jsx)(n.h4,{id:"storenotfound--storealreadyexists",children:"StoreNotFound / StoreAlreadyExists"}),"\n",(0,i.jsx)(n.p,{children:"Same as DB errors above, but for AI stores."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"storetypemismatcherror",children:"StoreTypeMismatchError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Cannot query Input. Store expects [RawString], input type [Image] was provided"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"InvalidArgument"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Sending wrong input type (text to image model or vice versa)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use text (RawString) for text models: ",(0,i.jsx)(n.code,{children:"all-minilm-*"}),", ",(0,i.jsx)(n.code,{children:"bge-*"}),", ",(0,i.jsx)(n.code,{children:"clip-vit-b32-text"})]}),"\n",(0,i.jsxs)(n.li,{children:["Use images (Image bytes) for image models: ",(0,i.jsx)(n.code,{children:"resnet-50"}),", ",(0,i.jsx)(n.code,{children:"clip-vit-b32-image"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"input-errors",children:"Input Errors"}),"\n",(0,i.jsx)(n.h4,{id:"inputnotspecified",children:"InputNotSpecified"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'"search_input" input not specified'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"InvalidArgument"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Required input field is missing or empty."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Provide the required input (text or image)."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"tokenexceedederror",children:"TokenExceededError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Max Token Exceeded. Model Expects [256], input type was [512]"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"OutOfRange"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Input text exceeds model's maximum token limit."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Token Limits:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"all-minilm-l6-v2"}),": 256 tokens"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"all-minilm-l12-v2"}),": 256 tokens"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bge-base-en-v1.5"}),": 512 tokens"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"bge-large-en-v1.5"}),": 512 tokens"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"clip-vit-b32-text"}),": 77 tokens"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Truncate text to fit within limit"}),"\n",(0,i.jsx)(n.li,{children:"Split long documents into chunks"}),"\n",(0,i.jsx)(n.li,{children:"Use model with larger token limit (BGE models support 512 tokens)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Truncate text\ntext = long_text[:500]  # Rough approximation\n\n# Or split into chunks\nchunks = [text[i:i+500] for i in range(0, len(text), 500)]\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"imagedimensionsmismatcherror",children:"ImageDimensionsMismatchError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Image Dimensions [(512, 512)] does not match the expected model dimensions [(224, 224)]"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"InvalidArgument"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Image size doesn't match model requirements."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Model Requirements:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"resnet-50"}),": 224x224 pixels"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"clip-vit-b32-image"}),": 224x224 pixels"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Resize images to 224x224 before sending"}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"PreprocessAction.ModelPreprocessing"})," to auto-resize"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example (Python):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from PIL import Image\n\nimg = Image.open("photo.jpg")\nimg = img.resize((224, 224))\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"reservederror",children:"ReservedError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'Reserved key "_ahnlich_input_key" used'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"InvalidArgument"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Using reserved metadata key ",(0,i.jsx)(n.code,{children:"_ahnlich_input_key"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Avoid using ",(0,i.jsx)(n.code,{children:"_ahnlich_input_key"})," in your metadata - this key is reserved for internal use when ",(0,i.jsx)(n.code,{children:"store_original=true"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"model-errors",children:"Model Errors"}),"\n",(0,i.jsx)(n.h4,{id:"aimodelnotinitialized",children:"AIModelNotInitialized"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"index_model or query_model not selected or loaded during aiproxy startup"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"Internal"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Models not loaded at AI proxy startup."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ensure models are specified in ",(0,i.jsx)(n.code,{children:"--supported-models"})]}),"\n",(0,i.jsx)(n.li,{children:"Check model cache location has write permissions"}),"\n",(0,i.jsx)(n.li,{children:"Verify network connectivity for model downloads (first use)"}),"\n",(0,i.jsx)(n.li,{children:"Check disk space in model cache directory"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ahnlich-ai run \\\n  --supported-models all-minilm-l6-v2,resnet-50 \\\n  --model-cache-location /path/to/models\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"aimodelnotsupported",children:"AIModelNotSupported"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'index_model or query_model "model_name" not supported'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"Internal"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Using a model not in the supported models list."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Supported Models:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"all-minilm-l6-v2"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"all-minilm-l12-v2"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"bge-base-en-v1.5"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"bge-large-en-v1.5"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"resnet-50"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"clip-vit-b32-image"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"clip-vit-b32-text"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Use one of the supported models above."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"dimensionsmismatcherror",children:"DimensionsMismatchError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Dimensions Mismatch between index [768], and Query [1024] Models"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"InvalidArgument"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Index and query models have different embedding dimensions."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Use compatible models with same embedding dimensions:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"AllMiniLM (L6/L12): both 384-dim"}),"\n",(0,i.jsx)(n.li,{children:"BGE-Base: 768-dim"}),"\n",(0,i.jsx)(n.li,{children:"BGE-Large: 1024-dim"}),"\n",(0,i.jsx)(n.li,{children:"ClipVit-B32: both (text/image) 512-dim"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"modelinitializationerror",children:"ModelInitializationError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Error initializing a model thread: failed to download model"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"Internal"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Model initialization failed during download or loading."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check internet connectivity (models download from HuggingFace on first use)"}),"\n",(0,i.jsx)(n.li,{children:"Verify disk space in model cache location"}),"\n",(0,i.jsx)(n.li,{children:"Check firewall allows HuggingFace Hub access"}),"\n",(0,i.jsx)(n.li,{children:"Clear corrupted model cache and retry"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cache Location:"})," Default ",(0,i.jsx)(n.code,{children:"~/.ahnlich/models"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"database-connection-errors",children:"Database Connection Errors"}),"\n",(0,i.jsx)(n.h4,{id:"databaseclienterror",children:"DatabaseClientError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Proxy Errored with connection refused"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"FailedPrecondition"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," AI proxy cannot connect to database."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure database is running before starting AI proxy"}),"\n",(0,i.jsxs)(n.li,{children:["Verify ",(0,i.jsx)(n.code,{children:"--db-host"})," and ",(0,i.jsx)(n.code,{children:"--db-port"})," settings"]}),"\n",(0,i.jsx)(n.li,{children:"Check firewall rules"}),"\n",(0,i.jsxs)(n.li,{children:["For standalone mode, use ",(0,i.jsx)(n.code,{children:"--without-db"})," flag"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Start DB first\nahnlich-db run --port 1369\n\n# Then start AI\nahnlich-ai run --db-host 127.0.0.1 --db-port 1369\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"operation-errors",children:"Operation Errors"}),"\n",(0,i.jsx)(n.h4,{id:"delkeyerror",children:"DelKeyError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Cannot call DelKey on store with store_original as false"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"FailedPrecondition"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Attempting to delete keys when ",(0,i.jsx)(n.code,{children:"store_original=false"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Recreate store with ",(0,i.jsx)(n.code,{children:"store_original=true"})," if you need to delete original inputs:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'CreateStore(\n    store="my_store",\n    query_model=AiModel.ALL_MINI_LM_L6_V2,\n    index_model=AiModel.ALL_MINI_LM_L6_V2,\n    store_original=True,  # Required for DelKey\n)\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"image-processing-errors",children:"Image Processing Errors"}),"\n",(0,i.jsx)(n.h4,{id:"imagebytesdecodeerror",children:"ImageBytesDecodeError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Bytes could not be successfully decoded into an image"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"Internal"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Invalid or corrupted image bytes."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use standard image formats: JPEG, PNG, BMP, GIF"}),"\n",(0,i.jsx)(n.li,{children:"Validate image files aren't corrupted"}),"\n",(0,i.jsx)(n.li,{children:"Ensure proper encoding if using base64"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"imagenonzerodimensionerror",children:"ImageNonzeroDimensionError"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Image can't have zero value in any dimension. Found height: 0, width: 100"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"Internal"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Image has zero width or height."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Validate image dimensions before sending - both width and height must be > 0."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"client-errors",children:"Client Errors"}),"\n",(0,i.jsx)(n.h3,{id:"invaliduri",children:"InvalidURI"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'Invalid URI "invalid-uri"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"InvalidArgument"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Malformed connection URI."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Use valid URI format:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"http://127.0.0.1:1369  (DB)\nhttp://127.0.0.1:1370  (AI)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"tonic-transport-error",children:"Tonic (Transport Error)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Transport issues with tonic: connection error"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"gRPC Code:"})," ",(0,i.jsx)(n.code,{children:"Internal"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Network or transport layer error."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check server is running and accessible"}),"\n",(0,i.jsx)(n.li,{children:"Verify network connectivity"}),"\n",(0,i.jsx)(n.li,{children:"Check firewall rules"}),"\n",(0,i.jsx)(n.li,{children:"Ensure correct host/port configuration"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"dslcli-errors",children:"DSL/CLI Errors"}),"\n",(0,i.jsx)(n.h3,{id:"unsupportedalgorithm",children:"UnsupportedAlgorithm"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'Found unsupported algorithm "invalid_algo"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Unknown algorithm name in DSL command."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Valid Algorithms:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"EuclideanDistance"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"DotProductSimilarity"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"CosineSimilarity"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"KDTree"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"unsupportedaimodel",children:"UnsupportedAIModel"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:'Found unsupported ai model "invalid_model"'})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Unknown AI model name."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Use one of the 7 supported models listed above."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"unsupportedpreprocessingmode",children:"UnsupportedPreprocessingMode"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Message:"})," ",(0,i.jsx)(n.code,{children:"Unexpected preprocessing mode"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Invalid preprocessing option."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Valid Options:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"NoPreprocessing"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"ModelPreprocessing"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"common-error-combinations",children:"Common Error Combinations"}),"\n",(0,i.jsx)(n.h3,{id:"connection-refused--storenotfound",children:'"Connection Refused" + "StoreNotFound"'}),"\n",(0,i.jsx)(n.p,{children:"Indicates server connectivity issues. Check:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Server is running"}),"\n",(0,i.jsx)(n.li,{children:"Host/port configuration is correct"}),"\n",(0,i.jsx)(n.li,{children:"Firewall allows connections"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"dimensionmismatch--ai-store",children:'"DimensionMismatch" + AI Store'}),"\n",(0,i.jsx)(n.p,{children:"Check that query_model and index_model have same embedding dimensions."}),"\n",(0,i.jsx)(n.h3,{id:"tokenexceeded--long-text",children:'"TokenExceeded" + Long Text'}),"\n",(0,i.jsx)(n.p,{children:"Split text into smaller chunks or use model with larger token limit."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,i.jsx)(n.p,{children:"If you encounter an error not listed here:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Check server logs for detailed stack traces"}),"\n",(0,i.jsxs)(n.li,{children:["Enable tracing: ",(0,i.jsx)(n.code,{children:"--enable-tracing --otel-endpoint http://jaeger:4317"})]}),"\n",(0,i.jsxs)(n.li,{children:["Report issues: ",(0,i.jsx)(n.a,{href:"https://github.com/deven96/ahnlich/issues",children:"GitHub Issues"})]}),"\n",(0,i.jsxs)(n.li,{children:["Ask in: ",(0,i.jsx)(n.a,{href:"https://chat.whatsapp.com/E4CP7VZ1lNH9dJUxpsZVvD",children:"WhatsApp Community"})]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);