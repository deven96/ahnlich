"use strict";(self.webpackChunkahnlich_web=self.webpackChunkahnlich_web||[]).push([[6812],{12166:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"components/ahnlich-db/reference","title":"Reference","description":"This section documents all supported DB request commands in Ahnlich DB. Commands can be executed via the text-based query interface or programmatically through client APIs.","source":"@site/docs/components/ahnlich-db/reference.md","sourceDirName":"components/ahnlich-db","slug":"/components/ahnlich-db/reference","permalink":"/docs/components/ahnlich-db/reference","draft":false,"unlisted":false,"editUrl":"https://github.com/deven96/ahnlich/tree/main/web/ahnlich-web/docs/components/ahnlich-db/reference.md","tags":[],"version":"current","sidebarPosition":30,"frontMatter":{"title":"Reference","sidebar_position":30},"sidebar":"docsSidebar","previous":{"title":"Installation","permalink":"/docs/components/ahnlich-db/installation"},"next":{"title":"Advanced","permalink":"/docs/components/ahnlich-db/advanced"}}');var i=r(74848),d=r(28453);const l={title:"Reference",sidebar_position:30},c="Reference",s={},a=[{value:"1. Server &amp; System",id:"1-server--system",level:3},{value:"PING",id:"ping",level:4},{value:"INFO SERVER",id:"info-server",level:4},{value:"LIST CONNECTED CLIENTS",id:"list-connected-clients",level:4},{value:"2. Store Management",id:"2-store-management",level:3},{value:"LIST STORES",id:"list-stores",level:4},{value:"CREATE STORE",id:"create-store",level:4},{value:"Example:",id:"example",level:4},{value:"DROP STORE",id:"drop-store",level:4},{value:"Example:",id:"example-1",level:4},{value:"3. Insert, Update &amp; Delete",id:"3-insert-update--delete",level:3},{value:"SET",id:"set",level:4},{value:"Example:",id:"example-2",level:4},{value:"DELETE KEY",id:"delete-key",level:4},{value:"Example:",id:"example-3",level:4},{value:"DELETE PREDICATE",id:"delete-predicate",level:4},{value:"Example:",id:"example-4",level:4},{value:"4. Query &amp; Retrieval",id:"4-query--retrieval",level:3},{value:"GET SIM N",id:"get-sim-n",level:4},{value:"Example:",id:"example-5",level:4},{value:"GET KEY",id:"get-key",level:4},{value:"Example:",id:"example-6",level:4},{value:"GET BY PREDICATE",id:"get-by-predicate",level:4},{value:"Example:",id:"example-7",level:4},{value:"5. Index Management",id:"5-index-management",level:3},{value:"CREATE PREDICATE INDEX",id:"create-predicate-index",level:4},{value:"Example:",id:"example-8",level:4},{value:"DROP PREDICATE INDEX",id:"drop-predicate-index",level:4},{value:"Example:",id:"example-9",level:4},{value:"CREATE NON LINEAR ALGORITHM INDEX",id:"create-non-linear-algorithm-index",level:4},{value:"Example:",id:"example-10",level:4},{value:"DROP NON LINEAR ALGORITHM INDEX",id:"drop-non-linear-algorithm-index",level:4},{value:"Example:",id:"example-11",level:4},{value:"Ahnlich DB Command",id:"ahnlich-db-command",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"reference",children:"Reference"})}),"\n",(0,i.jsx)(n.p,{children:"This section documents all supported DB request commands in Ahnlich DB. Commands can be executed via the text-based query interface or programmatically through client APIs."}),"\n",(0,i.jsx)(n.h3,{id:"1-server--system",children:"1. Server & System"}),"\n",(0,i.jsx)(n.h4,{id:"ping",children:"PING"}),"\n",(0,i.jsx)(n.p,{children:"Check server health."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PING\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Returns ",(0,i.jsx)(n.code,{children:"PONG"})," if the server is running."]}),"\n",(0,i.jsx)(n.h4,{id:"info-server",children:"INFO SERVER"}),"\n",(0,i.jsx)(n.p,{children:"Retrieve server information (version, uptime, memory usage)."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"INFO SERVER\n"})}),"\n",(0,i.jsx)(n.h4,{id:"list-connected-clients",children:"LIST CONNECTED CLIENTS"}),"\n",(0,i.jsx)(n.p,{children:"View currently connected clients."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"LIST CONNECTED CLIENTS\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-store-management",children:"2. Store Management"}),"\n",(0,i.jsx)(n.h4,{id:"list-stores",children:"LIST STORES"}),"\n",(0,i.jsx)(n.p,{children:"Show all existing vector stores."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"LIST STORES\n"})}),"\n",(0,i.jsx)(n.h4,{id:"create-store",children:"CREATE STORE"}),"\n",(0,i.jsx)(n.p,{children:"Create a new store with a given dimension and algorithm."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATE STORE <store_name> DIMENSION <n> ALGORITHM <cosine|euclidean|kdtree>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATE STORE my_store DIMENSION 128 ALGORITHM cosine\n"})}),"\n",(0,i.jsx)(n.h4,{id:"drop-store",children:"DROP STORE"}),"\n",(0,i.jsx)(n.p,{children:"Remove a store and its contents."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DROP STORE <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-1",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DROP STORE my_store\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-insert-update--delete",children:"3. Insert, Update & Delete"}),"\n",(0,i.jsx)(n.h4,{id:"set",children:"SET"}),"\n",(0,i.jsx)(n.p,{children:"Insert or update a vector with metadata."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'SET <key> [<float>, <float>, ...] WITH { "<meta_key>": "<meta_value>", ... } IN <store_name>\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-2",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'SET doc1 [0.25, 0.88] WITH { "category": "news", "lang": "en" } IN my_store\n'})}),"\n",(0,i.jsx)(n.h4,{id:"delete-key",children:"DELETE KEY"}),"\n",(0,i.jsx)(n.p,{children:"Delete a vector by key."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DELETE KEY <key> IN <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-3",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DELETE KEY doc1 IN my_store\n"})}),"\n",(0,i.jsx)(n.h4,{id:"delete-predicate",children:"DELETE PREDICATE"}),"\n",(0,i.jsx)(n.p,{children:"Delete all vectors that match a predicate."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DELETE PREDICATE <predicate> IN <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-4",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'DELETE PREDICATE (category = "archive") IN my_store\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-query--retrieval",children:"4. Query & Retrieval"}),"\n",(0,i.jsx)(n.h4,{id:"get-sim-n",children:"GET SIM N"}),"\n",(0,i.jsx)(n.p,{children:"Find the N most similar vectors to an input vector."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GETSIMN <n> WITH [<float>, <float>, ...] USING <cosinesimilarity|euclideandistance> IN <store_name> WHERE (<predicate>)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-5",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'GETSIMN 3 WITH [0.25, 0.88] USING cosinesimilarity IN my_store WHERE (category != "draft")\n'})}),"\n",(0,i.jsx)(n.h4,{id:"get-key",children:"GET KEY"}),"\n",(0,i.jsx)(n.p,{children:"Retrieve a vector and its metadata by key."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET KEY <key> IN <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-6",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET KEY doc1 IN my_store\n"})}),"\n",(0,i.jsx)(n.h4,{id:"get-by-predicate",children:"GET BY PREDICATE"}),"\n",(0,i.jsx)(n.p,{children:"Retrieve all vectors that satisfy a metadata predicate."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"GET BY PREDICATE (<predicate>) IN <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-7",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'GET BY PREDICATE (lang = "en") IN my_store\n'})}),"\n",(0,i.jsx)(n.h3,{id:"5-index-management",children:"5. Index Management"}),"\n",(0,i.jsx)(n.h4,{id:"create-predicate-index",children:"CREATE PREDICATE INDEX"}),"\n",(0,i.jsx)(n.p,{children:"Create an index for faster metadata filtering."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATE PREDICATE INDEX <field> IN <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-8",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATE PREDICATE INDEX category IN my_store\n"})}),"\n",(0,i.jsx)(n.h4,{id:"drop-predicate-index",children:"DROP PREDICATE INDEX"}),"\n",(0,i.jsx)(n.p,{children:"Remove a predicate index."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DROP PREDICATE INDEX <field> IN <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-9",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DROP PREDICATE INDEX category IN my_store\n"})}),"\n",(0,i.jsx)(n.h4,{id:"create-non-linear-algorithm-index",children:"CREATE NON LINEAR ALGORITHM INDEX"}),"\n",(0,i.jsx)(n.p,{children:"Build a non-linear index (e.g., KD-Tree) for improved search efficiency."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATE NON LINEAR ALGORITHM INDEX <algorithm> IN <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-10",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CREATE NON LINEAR ALGORITHM INDEX kdtree IN my_store\n"})}),"\n",(0,i.jsx)(n.h4,{id:"drop-non-linear-algorithm-index",children:"DROP NON LINEAR ALGORITHM INDEX"}),"\n",(0,i.jsx)(n.p,{children:"Remove a non-linear algorithm index."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DROP NON LINEAR ALGORITHM INDEX <algorithm> IN <store_name>\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example-11",children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DROP NON LINEAR ALGORITHM INDEX kdtree IN my_store\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ahnlich-db-command",children:"Ahnlich DB Command"}),"\n",(0,i.jsx)(n.p,{children:"This document provides a reference mapping of Ahnlich DB commands to their equivalent SDK API calls in Rust, Python, and Go."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"DB Command"}),(0,i.jsx)(n.th,{children:"Rust API Equivalent"}),(0,i.jsx)(n.th,{children:"Python API Equivalent"}),(0,i.jsx)(n.th,{children:"Go API Equivalent"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"PING"})}),(0,i.jsx)(n.td,{children:"client.ping()?;"}),(0,i.jsx)(n.td,{children:"client.ping()"}),(0,i.jsx)(n.td,{children:"client.Ping(ctx)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"INFO SERVER"})}),(0,i.jsx)(n.td,{children:"client.info_server()?;"}),(0,i.jsx)(n.td,{children:"client.info_server()"}),(0,i.jsx)(n.td,{children:"client.InfoServer(ctx)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"LIST CONNECTED CLIENTS"})}),(0,i.jsx)(n.td,{children:"client.list_clients()?;"}),(0,i.jsx)(n.td,{children:"client.list_clients()"}),(0,i.jsx)(n.td,{children:"client.ListClients(ctx)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"LIST STORES"})}),(0,i.jsx)(n.td,{children:"client.list_stores()?;"}),(0,i.jsx)(n.td,{children:"client.list_stores()"}),(0,i.jsx)(n.td,{children:"client.ListStores(ctx)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"CREATE STORE my_store DIMENSION 128 ALGORITHM cosine"})}),(0,i.jsx)(n.td,{children:'client.create_store("my_store", 128, "cosine")?;'}),(0,i.jsx)(n.td,{children:'client.create_store("my_store", 128, "cosine")'}),(0,i.jsx)(n.td,{children:'client.CreateStore(ctx, "my_store", 128, "cosine")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"DROP STORE my_store"})}),(0,i.jsx)(n.td,{children:'client.drop_store("my_store")?;'}),(0,i.jsx)(n.td,{children:'client.drop_store("my_store")'}),(0,i.jsx)(n.td,{children:'client.DropStore(ctx, "my_store")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"SET doc1 [0.25, 0.88] WITH {...} IN my_store"})})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'client.set("my_store", "doc1", vec![0.25,0.88], hashmap!{"category"=>"news"})?;'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'client.set("my_store", "doc1", [0.25,0.88], {"category":"news"})'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'client.Set(ctx, "my_store", "doc1", []float64{0.25,0.88}, map[string]string{"category":"news"})'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"DELETE KEY doc1 IN my_store"})}),(0,i.jsx)(n.td,{children:'client.delete_key("my_store", "doc1")?;'}),(0,i.jsx)(n.td,{children:'client.delete_key("my_store", "doc1")'}),(0,i.jsx)(n.td,{children:'client.DeleteKey(ctx, "my_store", "doc1")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:'DELETE PREDICATE (category = "archive") IN my_store'})}),(0,i.jsx)(n.td,{children:'client.delete_predicate("my_store", "category=\'archive\'")?;'}),(0,i.jsx)(n.td,{children:'client.delete_predicate("my_store", "category=\'archive\'")'}),(0,i.jsx)(n.td,{children:'client.DeletePredicate(ctx, "my_store", "category=\'archive\'")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"GET SIM N 3 WITH [0.25,0.88] USING cosinesimilarity"})}),(0,i.jsx)(n.td,{children:'client.get_sim_n("my_store", vec![0.25,0.88], 3, "cosine", Some("lang=\'en\'"))?;'}),(0,i.jsx)(n.td,{children:'client.get_sim_n("my_store", [0.25,0.88], 3, "cosine", predicate="lang=\'en\'")'}),(0,i.jsxs)(n.td,{children:['client.GetSimN(ctx, "my_store", []float64',.88,', 3, "cosine", "lang=\'en\'")']})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"GET KEY doc1 IN my_store"})}),(0,i.jsx)(n.td,{children:'client.get_key("my_store", "doc1")?;'}),(0,i.jsx)(n.td,{children:'client.get_key("my_store", "doc1")'}),(0,i.jsx)(n.td,{children:'client.GetKey(ctx, "my_store", "doc1")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:'GET BY PREDICATE (lang = "en") IN my_store'})}),(0,i.jsx)(n.td,{children:'client.get_by_predicate("my_store", "lang=\'en\'")?;'}),(0,i.jsx)(n.td,{children:'client.get_by_predicate("my_store", "lang=\'en\'")'}),(0,i.jsx)(n.td,{children:'client.GetByPredicate(ctx, "my_store", "lang=\'en\'")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"CREATE PREDICATE INDEX category IN my_store"})}),(0,i.jsx)(n.td,{children:'client.create_predicate_index("my_store", "category")?;'}),(0,i.jsx)(n.td,{children:'client.create_predicate_index("my_store", "category")'}),(0,i.jsx)(n.td,{children:'client.CreatePredicateIndex(ctx, "my_store", "category")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"DROP PREDICATE INDEX category IN my_store"})}),(0,i.jsx)(n.td,{children:'client.drop_predicate_index("my_store", "category")?;'}),(0,i.jsx)(n.td,{children:'client.drop_predicate_index("my_store", "category")'}),(0,i.jsx)(n.td,{children:'client.DropPredicateIndex(ctx, "my_store", "category")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"CREATE NON LINEAR ALGORITHM INDEX kdtree IN my_store"})}),(0,i.jsx)(n.td,{children:'client.create_non_linear_index("my_store", "kdtree")?;'}),(0,i.jsx)(n.td,{children:'client.create_non_linear_index("my_store", "kdtree")'}),(0,i.jsx)(n.td,{children:'client.CreateNonLinearIndex(ctx, "my_store", "kdtree")'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"DROP NON LINEAR ALGORITHM INDEX kdtree IN my_store"})}),(0,i.jsx)(n.td,{children:'client.drop_non_linear_index("my_store", "kdtree")?;'}),(0,i.jsx)(n.td,{children:'client.drop_non_linear_index("my_store", "kdtree")'}),(0,i.jsx)(n.td,{children:'client.DropNonLinearIndex(ctx, "my_store", "kdtree")'})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var t=r(96540);const i={},d=t.createContext(i);function l(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);