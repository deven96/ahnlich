"use strict";(self.webpackChunkahnlich_web=self.webpackChunkahnlich_web||[]).push([[73],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var t=r(96540);const i={},o=t.createContext(i);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},59563:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>s});const t=JSON.parse('{"id":"client-libraries/go/request-ai/create-non-linear-algx","title":"Create Non-Linear algorithm Index","description":"Description","source":"@site/docs/client-libraries/go/request-ai/create-non-linear-algx.md","sourceDirName":"client-libraries/go/request-ai","slug":"/client-libraries/go/request-ai/create-non-linear-algx","permalink":"/docs/client-libraries/go/request-ai/create-non-linear-algx","draft":false,"unlisted":false,"editUrl":"https://github.com/deven96/ahnlich/tree/main/web/ahnlich-web/docs/client-libraries/go/request-ai/create-non-linear-algx.md","tags":[],"version":"current","frontMatter":{"title":"Create Non-Linear algorithm Index"},"sidebar":"docsSidebar","previous":{"title":"Drop Store","permalink":"/docs/client-libraries/go/request-ai/drop-store"},"next":{"title":"Drop Non-Linear Algorithm Index","permalink":"/docs/client-libraries/go/request-ai/drop-non-linear-algx"}}');var i=r(74848),o=r(28453);const a={title:"Create Non-Linear algorithm Index"},l="Create Non-Linear algorithm Index",c={},s=[{value:"Description",id:"description",level:2},{value:"Source Code Example",id:"source-code-example",level:2},{value:"Behavior",id:"behavior",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"create-non-linear-algorithm-index",children:"Create Non-Linear algorithm Index"})}),"\n",(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Create Non Linear Algorithm Index"})," request allows the AI service to build specialized non-linear search indices (e.g., KD-Tree) on top of vector embeddings that have already been stored in an AI-managed store."]}),"\n",(0,i.jsx)(n.p,{children:"Non-linear indices are essential when scaling similarity search, as they provide faster and more efficient retrieval of high-dimensional vectors compared to brute-force search."}),"\n",(0,i.jsx)(n.p,{children:"When using this API, you explicitly tell the AI proxy to create an auxiliary search structure that accelerates queries. The AI system first embeds the raw input (e.g., text, image), stores the vectors in the underlying DB, and then attaches the non-linear algorithm index for faster retrieval."}),"\n",(0,i.jsx)(n.h2,{id:"source-code-example",children:"Source Code Example"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Click to expand source code"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'package main\n\n\nimport (\n  "context"\n  "fmt"\n  "log"\n  "time"\n\n\n  "google.golang.org/grpc"\n  "google.golang.org/grpc/credentials/insecure"\n\n\n  aiquery "github.com/deven96/ahnlich/sdk/ahnlich-client-go/grpc/ai/query"\n  aisvc "github.com/deven96/ahnlich/sdk/ahnlich-client-go/grpc/services/ai_service"\n  nonlinear "github.com/deven96/ahnlich/sdk/ahnlich-client-go/grpc/algorithm/nonlinear"\n)\n\n\nconst AIAddr = "127.0.0.1:1370"\n\n\n// ExampleAIClient wraps the connection + AIService client\ntype ExampleAIClient struct {\n  conn   *grpc.ClientConn\n  client aisvc.AIServiceClient\n  ctx    context.Context\n}\n\n\n// NewAIClient connects to the AI server\nfunc NewAIClient(ctx context.Context) (*ExampleAIClient, error) {\n  conn, err := grpc.DialContext(ctx, AIAddr,\n      grpc.WithTransportCredentials(insecure.NewCredentials()),\n      grpc.WithBlock(),\n  )\n  if err != nil {\n      return nil, fmt.Errorf("failed to dial AI server %q: %w", AIAddr, err)\n  }\n  client := aisvc.NewAIServiceClient(conn)\n  return &ExampleAIClient{conn: conn, client: client, ctx: ctx}, nil\n}\n\n\nfunc (c *ExampleAIClient) Close() error {\n  return c.conn.Close()\n}\n\n\n// ---- CreateNonLinearAlgorithmIndex ----\nfunc (c *ExampleAIClient) exampleCreateNonLinearIndexAI() error {\n  _, err := c.client.CreateNonLinearAlgorithmIndex(c.ctx, &aiquery.CreateNonLinearAlgorithmIndex{\n      Store:            "ai_store",\n      NonLinearIndices: []nonlinear.NonLinearAlgorithm{nonlinear.NonLinearAlgorithm_KDTree},\n  })\n  if err != nil {\n      return err\n  }\n  fmt.Println(" Successfully created NonLinearAlgorithm index: KDTree on store ai_store")\n  return nil\n}\n\n\nfunc main() {\n  ctx, cancel := context.WithTimeout(context.Background(), 15*time.Second)\n  defer cancel()\n\n\n  client, err := NewAIClient(ctx)\n  if err != nil {\n      log.Fatalf(" Failed to create AI client: %v", err)\n  }\n  defer client.Close()\n\n\n  if err := client.exampleCreateNonLinearIndexAI(); err != nil {\n      log.Fatalf(" CreateNonLinearAlgorithmIndex failed: %v", err)\n  }\n}\n\n'})})]}),"\n",(0,i.jsx)(n.h2,{id:"behavior",children:"Behavior"}),"\n",(0,i.jsx)(n.p,{children:"If the store already has embeddings, the index is constructed on them. Future inserts will also be indexed automatically."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);