"use strict";(self.webpackChunkahnlich_web=self.webpackChunkahnlich_web||[]).push([[1659],{28453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>o});var t=i(96540);const r={},c=t.createContext(r);function s(n){const e=t.useContext(c);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),t.createElement(c.Provider,{value:e},n.children)}},84626:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"ahnlich-in-production/tracing","title":"Tracing","description":"Ahnlich supports distributed tracing using OpenTelemetry for production observability.","source":"@site/docs/ahnlich-in-production/tracing.md","sourceDirName":"ahnlich-in-production","slug":"/ahnlich-in-production/tracing","permalink":"/docs/ahnlich-in-production/tracing","draft":false,"unlisted":false,"editUrl":"https://github.com/deven96/ahnlich/tree/main/web/ahnlich-web/docs/ahnlich-in-production/tracing.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"title":"Tracing","sidebar_position":20},"sidebar":"docsSidebar","previous":{"title":"Deployment","permalink":"/docs/ahnlich-in-production/deployment"},"next":{"title":"\u26a1Ahnlich in production","permalink":"/docs/ahnlich-in-production/"}}');var r=i(74848),c=i(28453);const s={title:"Tracing",sidebar_position:20},o="Distributed Tracing",a={},l=[{value:"Quick Enable",id:"quick-enable",level:2},{value:"Docker Compose Example",id:"docker-compose-example",level:2},{value:"What Gets Traced",id:"what-gets-traced",level:2},{value:"Detailed Documentation",id:"detailed-documentation",level:2},{value:"Production Tips",id:"production-tips",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"distributed-tracing",children:"Distributed Tracing"})}),"\n",(0,r.jsx)(e.p,{children:"Ahnlich supports distributed tracing using OpenTelemetry for production observability."}),"\n",(0,r.jsx)(e.h2,{id:"quick-enable",children:"Quick Enable"}),"\n",(0,r.jsx)(e.p,{children:"Add these flags to enable tracing:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# For Ahnlich DB\nahnlich-db run \\\n  --enable-tracing \\\n  --otel-endpoint http://jaeger:4317\n\n# For Ahnlich AI  \nahnlich-ai run \\\n  --enable-tracing \\\n  --otel-endpoint http://jaeger:4317\n"})}),"\n",(0,r.jsx)(e.h2,{id:"docker-compose-example",children:"Docker Compose Example"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'version: "3.8"\n\nservices:\n  jaeger:\n    image: jaegertracing/all-in-one:latest\n    ports:\n      - "16686:16686"  # Jaeger UI\n      - "4317:4317"    # OTLP gRPC receiver\n\n  ahnlich_db:\n    image: ghcr.io/deven96/ahnlich-db:latest\n    command: >\n      ahnlich-db run --host 0.0.0.0\n      --enable-tracing\n      --otel-endpoint http://jaeger:4317\n    ports:\n      - "1369:1369"\n\n  ahnlich_ai:\n    image: ghcr.io/deven96/ahnlich-ai:latest\n    command: >\n      ahnlich-ai run --host 0.0.0.0\n      --db-host ahnlich_db\n      --enable-tracing\n      --otel-endpoint http://jaeger:4317\n    ports:\n      - "1370:1370"\n'})}),"\n",(0,r.jsxs)(e.p,{children:["Access Jaeger UI at ",(0,r.jsx)(e.code,{children:"http://localhost:16686"})]}),"\n",(0,r.jsx)(e.h2,{id:"what-gets-traced",children:"What Gets Traced"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Client requests and responses"}),"\n",(0,r.jsx)(e.li,{children:"DB operations (similarity search, indexing)"}),"\n",(0,r.jsx)(e.li,{children:"AI model inference (embedding generation)"}),"\n",(0,r.jsx)(e.li,{children:"Inter-service communication (AI \u2192 DB)"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"detailed-documentation",children:"Detailed Documentation"}),"\n",(0,r.jsx)(e.p,{children:"For comprehensive tracing setup and configuration:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"../components/distributed-tracing/distributed-tracing",children:"Distributed Tracing Overview"})})," - Architecture and concepts"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"../components/distributed-tracing/using-jaeger",children:"Using Jaeger"})})," - Jaeger setup guide"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"../components/distributed-tracing/ahnlich-db",children:"Tracing in Ahnlich DB"})})," - DB-specific configuration"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"../components/distributed-tracing/ahnlich-ai",children:"Tracing in Ahnlich AI"})})," - AI-specific configuration"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"production-tips",children:"Production Tips"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Use a dedicated collector"})," - Don't send traces directly to Jaeger in production"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Sample traces"})," - Configure sampling to reduce overhead (not yet configurable, coming soon)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Aggregate traces"})," - Use centralized tracing backends (Jaeger, Tempo, Honeycomb)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Monitor overhead"})," - Tracing adds ~5-10% latency overhead"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}}}]);