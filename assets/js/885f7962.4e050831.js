"use strict";(self.webpackChunkahnlich_web=self.webpackChunkahnlich_web||[]).push([[7302],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(96540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},67514:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/python","title":"\ud83d\udcda Python Book Search","description":"Source: examples/python/book\u2011search","source":"@site/docs/guides/python.md","sourceDirName":"guides","slug":"/guides/python","permalink":"/docs/guides/python","draft":false,"unlisted":false,"editUrl":"https://github.com/deven96/ahnlich/tree/main/web/ahnlich-web/docs/guides/python.md","tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcda Python Book Search"}}');var s=t(74848),r=t(28453);const o={title:"\ud83d\udcda Python Book Search"},l=void 0,a={},c=[{value:"\ud83d\udd27 What you\u2019ll learn",id:"-what-youll-learn",level:2},{value:"\ud83d\udca1 Highlighted snippet",id:"-highlighted-snippet",level:2},{value:"\u2795 Try it yourself",id:"-try-it-yourself",level:2},{value:"\ud83e\udde0 Why these guides matter",id:"-why-these-guides-matter",level:2},{value:"\ud83d\udccc Next Steps",id:"-next-steps",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Source"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/deven96/ahnlich/tree/main/examples/python/book-search",children:"examples/python/book\u2011search"})]}),"\n",(0,s.jsxs)(n.p,{children:["This walkthrough guides building a ",(0,s.jsx)(n.strong,{children:"textual book similarity search"})," tool using Python:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Creating a DB or AI Store for embedding book descriptions"}),"\n",(0,s.jsx)(n.li,{children:"Ingesting book titles and summaries as raw text"}),"\n",(0,s.jsx)(n.li,{children:"Querying similar books based on semantic relevance"}),"\n",(0,s.jsx)(n.li,{children:"Filtering results by metadata like genre or author"}),"\n",(0,s.jsx)(n.li,{children:"Displaying matched books with scores and metadata"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-what-youll-learn",children:"\ud83d\udd27 What you\u2019ll learn"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Async setup using ",(0,s.jsx)(n.code,{children:"grpclib"})," and ",(0,s.jsx)(n.code,{children:"ahnlich-client-py"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Creating a store and ingesting raw book data."}),"\n",(0,s.jsxs)(n.li,{children:["Running ",(0,s.jsx)(n.code,{children:"get_sim_n()"}),' on text queries like "space opera classics".']}),"\n",(0,s.jsxs)(n.li,{children:["Filtering responses by metadata predicates (e.g. ",(0,s.jsx)(n.code,{children:'author == "Asimov"'}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Retrieving stored metadata and original summaries for output."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-highlighted-snippet",children:"\ud83d\udca1 Highlighted snippet"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from grpclib.client import Channel\nfrom ahnlich_client_py.grpc.services import AiServiceStub\nfrom ahnlich_client_py.grpc.ai import query as ai_query\nfrom ahnlich_client_py.grpc.ai.models import AiModel\n\nasync with Channel(host="127.0.0.1", port=1370) as channel:\n    client = AiServiceStub(channel)\n    await client.create_store(ai_query.CreateStore(\n        store="books",\n        index_model=AiModel.ALL_MINI_LM_L6_V2,\n        query_model=AiModel.ALL_MINI_LM_L6_V2,\n        predicates=["author", "genre"],\n        store_original=True,\n        error_if_exists=True\n    ))\n\n    # ingest books\n    await client.set(ai_query.Set(\n        store="books",\n        inputs=[\n            keyval.AiStoreEntry(\n                key=keyval.StoreInput(raw_string="Dune summary..."),\n                value=keyval.StoreValue(value={"genre": metadata.MetadataValue(raw_string="SciFi")})\n            )\n        ],\n        preprocess_action=preprocess.PreprocessAction.NoPreprocessing\n    ))\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-try-it-yourself",children:"\u2795 Try it yourself"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clone the example project"}),"\n",(0,s.jsx)(n.li,{children:"Run both Ahnlich services locally"}),"\n",(0,s.jsx)(n.li,{children:"Adjust the book dataset (titles / summaries / metadata)"}),"\n",(0,s.jsx)(n.li,{children:"Use the Python script to test querying with new text prompts"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-why-these-guides-matter",children:"\ud83e\udde0 Why these guides matter"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Show ",(0,s.jsx)(n.strong,{children:"real usage"})," of the Go/Python/Rust SDKs in fully working apps"]}),"\n",(0,s.jsxs)(n.li,{children:["Let you ",(0,s.jsx)(n.strong,{children:"adapt the patterns"})," for your domain (images, documents, etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:["Emphasize ",(0,s.jsx)(n.strong,{children:"semantic similarity + metadata filtering"})," capabilities"]}),"\n",(0,s.jsx)(n.li,{children:"Provide production-style, real-world code to build upon"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Check out the source on GitHub and follow along as each guide walks you step-by-step through store creation, ingestion, search, and result processing."}),"\n",(0,s.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\udccc Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Browse the ",(0,s.jsx)(n.a,{href:"https://github.com/deven96/ahnlich/tree/main/examples/rust/image-search",children:"Rust Image Search"})," repo"]}),"\n",(0,s.jsxs)(n.li,{children:["Browse the ",(0,s.jsx)(n.a,{href:"https://github.com/deven96/ahnlich/tree/main/examples/python/book-search",children:"Python Book Search"})," repo"]}),"\n",(0,s.jsx)(n.li,{children:"Start customizing: swap embeddings, apply new metadata, or change query logic"}),"\n",(0,s.jsx)(n.li,{children:"Use these patterns as templates for your own semantic search pipelines"}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);